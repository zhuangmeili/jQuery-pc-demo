<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>index 首页</title>
    <link rel="stylesheet" href="../css/common/common.css">
    <link rel="stylesheet" href="1_slideGradual.css">
    <style type="text/css">
        .row0-btnLeft, .row0-btnRight{ z-index: 999; cursor: pointer; position: absolute; top:50%; margin-top: -30px;  width: 26px; height:60px; line-height: 60px; background: #ff7300; color: #fff; font-size: 18px;}
        .row0-btnLeft{ left: 0; }
        .row0-btnRight{ right: 0;}
    </style>
</head>
<body>
<div class="c1006-row0-Wrap">
    <div class="c1006-row0-Main">
        <!-- banner轮播 -->
        <div class=" c1006-row0-bannerWrap testSlide3">
            <ul class=" c1006-row0-bannerPic  ">
                <li class="on"><a href="#"><img src="testImg/banner1.jpg" alt="banner轮播图"/></a></li>
                <li><a href="#"><img src="testImg/banner2.jpg" alt="banner轮播图"/></a></li>
                <li><a href="#"><img src="testImg/banner3.jpg" alt="banner轮播图"/></a></li>
                <li><a href="#"><img src="testImg/banner4.jpg" alt="banner轮播图"/></a></li>
            </ul>
            <div class="c1006-row0-bannerTab  clearfix  ">
                <span class="on">1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
            </div>

            <div class="row0-btnLeft">  << </div>
            <div class="row0-btnRight">   >>  </div>


        </div>
    </div>
</div>

<div class="c1006-row8-Wrap clearfix">
    <!-- left -->
    <div class="c1006-row8-news floatL">
        <div class="c1006-row8-Head">
            <h2>新闻资讯</h2>

        </div>
        <div class="clearfix" >
            <div class="c1006-row8-news-left floatL">
                <div class="c1006-row8-news-con">
                    <div class="slideCon  testSlide4 "><!-- -->
                        <ul class="testHAHA"><!---->
                            <li class="on"><a href=""><img src="testImg/banner1.jpg"></a></li>
                            <li><a href=""><img src="testImg/banner2.jpg"></a></li>
                            <li><a href=""><img src="testImg/banner3.jpg"></a></li>
                            <li><a href=""><img src="testImg/banner4.jpg"></a></li>
                            <li><a href=""><img src="testImg/banner5.jpg"></a></li>
                        </ul>
                        <div class="slidtTab  clearfix testMAMA"><!---->
                            <span class="on">1</span><span>2</span><span>3</span><span>4</span><span>5</span>
                        </div>
                    </div>
                    <div class="c1006-row8-newsBtom clearfix">
                        <ul class="c1006-row8-newsBtom-list clearfix">
                            <li><a href="#" target="_blank" title="天水市秦州区秦岭乡天水市秦州区秦岭乡"> 天水市秦州区秦岭天水天水市秦州区秦岭天水市秦州区秦岭乡乡市秦州区秦岭乡乡 </a></li>
                            <li><a href="#" target="_blank" title="天水市秦州区秦岭乡天水市秦州区秦岭乡"> 天水市秦州区秦岭天水天水市秦州区秦岭天水市秦州区秦岭乡乡市秦州区秦岭乡乡 </a></li>
                            <li><a href="#" target="_blank" title="天水市秦州区秦岭乡天水市秦州区秦岭乡"> 天水市秦州区秦岭天水天水市秦州区秦岭天水市秦州区秦岭乡乡市秦州区秦岭乡乡 </a></li>
                            <li><a href="#" target="_blank" title="天水市秦州区秦岭乡天水市秦州区秦岭乡"> 天水市秦州区秦岭天水天水市秦州区秦岭天水市秦州区秦岭乡乡市秦州区秦岭乡乡 </a></li>
                            <li><a href="#" target="_blank" title="天水市秦州区秦岭乡天水市秦州区秦岭乡"> 天水市秦州区秦岭天水天水市秦州区秦岭天水市秦州区秦岭乡乡市秦州区秦岭乡乡 </a></li>
                            <li><a href="#" target="_blank" title="天水市秦州区秦岭乡天水市秦州区秦岭乡"> 天水市秦州区秦岭天水天水市秦州区秦岭天水市秦州区秦岭乡乡市秦州区秦岭乡乡 </a></li>
                            <li><a href="#" target="_blank" title="天水市秦州区秦岭乡天水市秦州区秦岭乡"> 天水市秦州区秦岭天水天水市秦州区秦岭天水市秦州区秦岭乡乡市秦州区秦岭乡乡 </a></li>
                            <li><a href="#" target="_blank" title="天水市秦州区秦岭乡天水市秦州区秦岭乡"> 天水市秦州区秦岭天水天水市秦州区秦岭天水市秦州区秦岭乡乡市秦州区秦岭乡乡 </a></li>
                            <li><a href="#" target="_blank" title="天水市秦州区秦岭乡天水市秦州区秦岭乡"> 天水市秦州区秦岭天水天水市秦州区秦岭天水市秦州区秦岭乡乡市秦州区秦岭乡乡 </a></li>
                            <li><a href="#" target="_blank" title="天水市秦州区秦岭乡天水市秦州区秦岭乡"> 天水市秦州区秦岭天水天水市秦州区秦岭天水市秦州区秦岭乡乡市秦州区秦岭乡乡 </a></li>

                        </ul>
                    </div>
                </div>
            </div>
            <div class="floatL">
                <pre>
    $(".testSlide4").slideGradual({
        slideCon:".testHAHA",
        tabCon:".testMAMA",
        fadeInTime:500,
        fadeOutTime:1000,
        intervalTime:2000

    });
                </pre>

            </div>

        </div>
    </div>
</div>

<div class="c1006-row2-Wrap">
    <div class="clearfix">
        <div class="c1006-row2-left floatL" >
            <div class="c1006-row2-left-con">
                <div class="slideCon testSlide1">
                    <ul class="testSlidePics">
                        <li class="on"><a href=""><img src="testImg/banner1.jpg"></a></li>
                        <li><a href=""><img src="testImg/banner2.jpg"></a></li>
                        <li><a href=""><img src="testImg/banner3.jpg"></a></li>
                        <li><a href=""><img src="testImg/banner4.jpg"></a></li>
                    </ul>
                    <div class="slidtTab clearfix  testSlideTabs">
                        <span class="on">1</span><span>2</span><span>3</span><span>4</span><!-- 选中的元素  on -->
                    </div>
                    <span class="row0-btnLeft testBtnLeft">  <<  </span>
                    <span class="row0-btnRight testBtnRight">  >>  </span>
                </div>
            </div>
        </div>
        <div class="c1006-row2-right floatL">
            <pre>
$(".testSlide1").slideGradual({
        slideCon:".testSlidePics",
        tabCon:".testSlideTabs",
        btnLeft:".testBtnLeft",
        btnRight:".testBtnRight",
        fadeInTime:500,
        fadeOutTime:1000,
        intervalTime:2500,
        autoPlay:false
    });
            </pre>
        </div>
    </div>
</div>

<div class="c1006-row2-Wrap">
    <div class="clearfix">
        <div class="c1006-row2-left floatL" >
            <div class="c1006-row2-left-con">
                <div class="slideCon testSlide2">
                    <ul class="testSlidePics">
                        <li class="on"><a href=""><img src="testImg/banner1.jpg"></a></li>
                        <li><a href=""><img src="testImg/banner2.jpg"></a></li>
                        <li><a href=""><img src="testImg/banner3.jpg"></a></li>
                        <li><a href=""><img src="testImg/banner4.jpg"></a></li>
                    </ul>
                    <div class="slidtTab clearfix  testSlideTabs">
                        <span class="on">1</span><span>2</span><span>3</span><span>4</span><!-- 选中的元素  on -->
                    </div>
                </div>
            </div>
        </div>
        <div class="c1006-row2-right floatL">
        </div>
    </div>
</div>
</body>
<script type="text/javascript" src="../js/jquery-1.8.0.min.js"></script>

<script type="text/javascript">
(function($){
    $.fn.extend({
        /*
         * slideGradual 方法 渐变的一种轮播    选中的焦点  on
         *    （1）默认参数
         *      slideCon:"",        //必选参数 图片所在的区域，适用结构  slideCon.ul>li
         *      tabCon:"",          //必选参数 焦点区域     结构没限制
         *      btnLeft:"",         //可选参数 向左的按钮
         *      btnRight:"",        //可选参数 向右的按钮
         *      autoPlay:true,      //可选参数 默认自动轮播
         *      fadeInTime:1000,    //可选参数 fadeIn时间  当前图进入时间
         *      fadeOutTime:2000,   //可选参数 fadeOut时间 前一个图离开时间
         *      intervalTime:4000   //可选参数 运动间隔时间
         *    （2）slideCon区域请使用   ul>li结构
         *    （3）当前焦点请使用   class="on"
         *    （4）用法示例：
         *          $(".testSlide").slideGradual({  slideCon:".testSlideCon",tabCon:".testTabCon",btnLeft:".testBtnLeft",btnRight:".testBtnRight"});
         *          对应的结构如下：
         *          //class="testSlide"作为（testSlideCons  && testTabCon &&testBtnLeft  && testBtnRight ）的父亲或者祖先元素
         *          //因为我们是根据testSlide  选中其下面的切换点  左右按钮等元素的；
         *          <div class="testSlide">
         *              <ul class="testSlideCons">                  //图片所在区域严格采用ul>li形式
         *                  <li></li>   <li></li>   <li></li>       //每次切换为一个li
         *              </ul>
         *              <div class="testTabCon">                    //切换点区域
         *                  <XX class="on"></XX><XX></XX><XX></XX>  //标签没有限制   .testTabCon > XX   (注意是严格的父子关系)   on为当前的焦点
         *              </div>
         *              <XX class="testBtnLeft"></XX>               //标签没有限制
         *              <XX class="testBtnRight"></XX>              //标签没有限制
         *          </div>
         * */
        slideGradual : function(options){
            var slides = $(this);
            if(slides.length > 0){
                slides.each(function(i){
                    var _this=slides[i];
                    //默认参数
                    var defaults={
                        slideCon:"",        //必选参数 图片所在的区域，适用结构  slideCon.ul>li
                        tabCon:"",          //必选参数 焦点区域     结构没限制
                        btnLeft:"",         //可选参数 向左的按钮
                        btnRight:"",        //可选参数 向右的按钮
                        autoPlay:true,      //可选参数 默认自动轮播
                        fadeInTime:1000,    //可选参数 fadeIn时间
                        fadeOutTime:2000,   //可选参数 fadeOut时间
                        intervalTime:4000   //可选参数 运动间隔时间
                    };
                    //把option参数合并到defaults中，并把defaults赋值给  options
                    options=$.extend(defaults,options);
                    var $slideCon=$(_this).find(options.slideCon);
                    var $lis=$slideCon.find("li");     //li元素
                    var $tabCon=$(_this).find(options.tabCon);
                    var $tabs=$tabCon.children("*");    //每一个焦点
                    var $btnLeft=$(_this).find(options.btnLeft);
                    var $btnRight=$(_this).find(options.btnRight);
                    var curIndex=$(_this).find(options.tabCon).children("*.on").index();
                    var lastIndex=0;//初始化
                    var picLen=$slideCon.find("li").length;     //图片的总个数
                    var timer=null;
                    function autoMove(){
                        curIndex++;
                        if(curIndex==picLen){
                            curIndex=0;
                        }
                        $lis.eq(curIndex).fadeIn(options.fadeInTime);
                        $lis.eq(lastIndex).fadeOut(options.fadeOutTime);
                        $tabs.eq(curIndex).addClass("on").siblings().removeClass("on");
                        lastIndex=curIndex;//变换值
                    }
                    $tabs.each(function(index,ele){
                        $(ele).click(function(){
                            curIndex=$(this).index();
                            clearInterval(timer);
                            if(lastIndex!=curIndex){
                                $(this).addClass("on").siblings().removeClass("on");
                                $lis.eq(curIndex).fadeIn(1000);
                                $lis.eq(lastIndex).fadeOut(2000);
                                lastIndex=curIndex;
                            }
                        });
                    });
                    //鼠标放上去关闭定时器 离开开始定时器
                    function hoverFn(obj) {
                        //是自动轮播的话，触发  hover事件
                        if(options.autoPlay){
                            obj.hover(function () {
                                clearInterval(timer);
                            },function () {
                                timer=setInterval(function(){
                                    autoMove();
                                },options.intervalTime);
                            });
                        }
                    }
                    hoverFn($slideCon);
                    hoverFn($tabCon);
                    hoverFn($btnLeft);
                    hoverFn($btnRight);
                    //是否自动轮播
                    if(options.autoPlay){
                        timer=setInterval(function(){
                            autoMove();
                        },options.intervalTime);
                    }
                    // right
                    if(options.btnRight && $btnRight.length){
                        $btnRight.click(function () {
                            autoMove();
                        });
                    }
                    // left
                    if(options.btnLeft && $btnLeft.length){
                        $btnLeft.click(function () {
                            curIndex--;
                            if(curIndex==-1){
                                curIndex=picLen-1;
                            }
                            $lis.eq(curIndex).fadeIn(options.fadeInTime);
                            $lis.eq(lastIndex).fadeOut(options.fadeOutTime);
                            $tabs.eq(curIndex).addClass("on").siblings().removeClass("on");
                            lastIndex=curIndex;//变换值
                        });
                    }
                    //
                });
            }
        }

    });
})(jQuery);

$(function () {
    $(".testSlide1").slideGradual({
        slideCon:".testSlidePics",
        tabCon:".testSlideTabs",
        btnLeft:".testBtnLeft",
        btnRight:".testBtnRight",
        fadeInTime:500,
        fadeOutTime:1000,
        intervalTime:2500,
        autoPlay:false
    });
    $(".testSlide2").slideGradual({
        slideCon:".testSlidePics",
        tabCon:".testSlideTabs",
        btnLeft:".testBtnLeft",
        btnRight:".testBtnRight"
    });

    $(".testSlide3").slideGradual({
        slideCon:".c1006-row0-bannerPic",
        tabCon:".c1006-row0-bannerTab",
        btnLeft:".row0-btnLeft",
        btnRight:".row0-btnRight"


    });
    $(".testSlide4").slideGradual({
        slideCon:".testHAHA",
        tabCon:".testMAMA",
        fadeInTime:500,
        fadeOutTime:1000,
        intervalTime:2000

    });




});    
    
    
</script>
</html>